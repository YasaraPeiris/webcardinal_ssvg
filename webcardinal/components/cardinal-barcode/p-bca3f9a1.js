let t,n,e=!1;const o="undefined"!=typeof window?window:{},s=o.document||{head:{}},l={t:0,o:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,n,e,o)=>t.addEventListener(n,e,o),rel:(t,n,e,o)=>t.removeEventListener(n,e,o),ce:(t,n)=>new CustomEvent(t,n)},c=t=>Promise.resolve(t),i={},a=t=>"object"==(t=typeof t)||"function"===t,r=(t,n,...e)=>{let o=null,s=!1,l=!1,c=[];const i=n=>{for(let e=0;e<n.length;e++)o=n[e],Array.isArray(o)?i(o):null!=o&&"boolean"!=typeof o&&((s="function"!=typeof t&&!a(o))&&(o+=""),s&&l?c[c.length-1].l+=o:c.push(s?u(null,o):o),l=s)};if(i(e),n){const t=n.className||n.class;t&&(n.class="object"!=typeof t?t:Object.keys(t).filter((n=>t[n])).join(" "))}const r=u(t,null);return r.i=n,c.length>0&&(r.u=c),r},u=(t,n)=>({t:0,m:t,l:n,h:null,u:null,i:null}),d={},w=(t,n,e,o,s,l)=>{if(e!==o){let c=H(t,n);if(n.toLowerCase(),"class"===n){const n=t.classList,s=m(e),l=m(o);n.remove(...s.filter((t=>t&&!l.includes(t)))),n.add(...l.filter((t=>t&&!s.includes(t))))}else if("style"===n){for(const n in e)o&&null!=o[n]||(n.includes("-")?t.style.removeProperty(n):t.style[n]="");for(const n in o)e&&o[n]===e[n]||(n.includes("-")?t.style.setProperty(n,o[n]):t.style[n]=o[n])}else{const i=a(o);if((c||i&&null!==o)&&!s)try{if(t.tagName.includes("-"))t[n]=o;else{let s=null==o?"":o;"list"===n?c=!1:null!=e&&t[n]==s||(t[n]=s)}}catch(t){}null==o||!1===o?!1===o&&""!==t.getAttribute(n)||t.removeAttribute(n):(!c||4&l||s)&&!i&&t.setAttribute(n,o=!0===o?"":o)}}},f=/\s/,m=t=>t?t.split(f):[],b=(t,n,e,o)=>{const s=11===n.h.nodeType&&n.h.host?n.h.host:n.h,l=t&&t.i||i,c=n.i||i;for(o in l)o in c||w(s,o,l[o],void 0,e,n.t);for(o in c)w(s,o,l[o],c[o],e,n.t)},h=(n,e,o)=>{let l,c,i=e.u[o],a=0;if(l=i.h=s.createElement(i.m),b(null,i,!1),null!=t&&l["s-si"]!==t&&l.classList.add(l["s-si"]=t),i.u)for(a=0;a<i.u.length;++a)c=h(n,i,a),c&&l.appendChild(c);return l},p=(t,e,o,s,l,c)=>{let i,a=t;for(a.shadowRoot&&a.tagName===n&&(a=a.shadowRoot);l<=c;++l)s[l]&&(i=h(null,o,l),i&&(s[l].h=i,a.insertBefore(i,e)))},y=(t,n,e,o)=>{for(;n<=e;++n)(o=t[n])&&o.h.remove()},$=(t,n)=>t.m===n.m,g=(t,n)=>{const e=n.h=t.h,o=t.u,s=n.u;"slot"===n.m||b(t,n,!1),null!==o&&null!==s?((t,n,e,o)=>{let s,l=0,c=0,i=n.length-1,a=n[0],r=n[i],u=o.length-1,d=o[0],w=o[u];for(;l<=i&&c<=u;)null==a?a=n[++l]:null==r?r=n[--i]:null==d?d=o[++c]:null==w?w=o[--u]:$(a,d)?(g(a,d),a=n[++l],d=o[++c]):$(r,w)?(g(r,w),r=n[--i],w=o[--u]):$(a,w)?(g(a,w),t.insertBefore(a.h,r.h.nextSibling),a=n[++l],w=o[--u]):$(r,d)?(g(r,d),t.insertBefore(r.h,a.h),r=n[--i],d=o[++c]):(s=h(n&&n[c],e,c),d=o[++c],s&&a.h.parentNode.insertBefore(s,a.h));l>i?p(t,null==o[u+1]?null:o[u+1].h,e,o,c,u):c>u&&y(n,l,i)})(e,o,n,s):null!==s?p(e,null,n,s,0,s.length-1):null!==o&&y(o,0,o.length-1)},E=t=>S(t).p,v=(t,n)=>{n&&!t.$&&n["s-p"]&&n["s-p"].push(new Promise((n=>t.$=n)))},T=(t,n)=>{if(t.t|=16,!(4&t.t))return v(t,t.g),B((()=>C(t,n)));t.t|=512},C=(t,n)=>{const e=t.v;let o;return n&&(o=L(e,"componentWillLoad")),o=M(o,(()=>L(e,"componentWillRender"))),M(o,(()=>P(t,e)))},P=async(e,o)=>{const s=e.p,l=s["s-rc"];((e,o)=>{const s=e.p,l=e.T||u(null,null),c=(t=>t&&t.m===d)(o)?o:r(null,null,o);n=s.tagName,c.m=null,c.t|=4,e.T=c,c.h=l.h=s.shadowRoot||s,t=s["s-sc"],g(l,c)})(e,O(e,o)),l&&(l.map((t=>t())),s["s-rc"]=void 0);{const t=s["s-p"],n=()=>j(e);0===t.length?n():(Promise.all(t).then(n),e.t|=4,t.length=0)}},O=(t,n)=>{try{n=n.render(),t.t&=-17,t.t|=2}catch(n){V(n,t.p)}return n},j=t=>{const n=t.p,e=t.v,o=t.g;L(e,"componentDidRender"),64&t.t||(t.t|=64,R(n),L(e,"componentDidLoad"),t.C(n),o||k()),t.P(n),t.$&&(t.$(),t.$=void 0),512&t.t&&G((()=>T(t,!1))),t.t&=-517},k=()=>{R(s.documentElement),G((()=>(t=>{const n=l.ce("appload",{detail:{namespace:"webcardinal"}});return t.dispatchEvent(n),n})(o)))},L=(t,n,e)=>{if(t&&t[n])try{return t[n](e)}catch(t){V(t)}},M=(t,n)=>t&&t.then?t.then(n):n(),R=t=>t.classList.add("hydrated"),W=(t,n,e)=>{if(n.O){t.watchers&&(n.j=t.watchers);const o=Object.entries(n.O),s=t.prototype;if(o.map((([t,[o]])=>{31&o||2&e&&32&o?Object.defineProperty(s,t,{get(){return((t,n)=>S(this).k.get(n))(0,t)},set(e){((t,n,e,o)=>{const s=S(t),l=s.p,c=s.k.get(n),i=s.t,r=s.v;if(e=((t,n)=>null==t||a(t)?t:4&n?"false"!==t&&(""===t||!!t):1&n?t+"":t)(e,o.O[n][0]),!(8&i&&void 0!==c||e===c)&&(s.k.set(n,e),r)){if(o.j&&128&i){const t=o.j[n];t&&t.map((t=>{try{r[t](e,c,n)}catch(t){V(t,l)}}))}2==(18&i)&&T(s,!1)}})(this,t,e,n)},configurable:!0,enumerable:!0}):1&e&&64&o&&Object.defineProperty(s,t,{value(...n){const e=S(this);return e.L.then((()=>e.v[t](...n)))}})})),1&e){const n=new Map;s.attributeChangedCallback=function(t,e,o){l.jmp((()=>{const e=n.get(t);this[e]=(null!==o||"boolean"!=typeof this[e])&&o}))},t.observedAttributes=o.filter((([t,n])=>15&n[0])).map((([t,e])=>{const o=e[1]||t;return n.set(o,t),o}))}}return t},x=(t,n={})=>{const e=[],c=n.exclude||[],i=o.customElements,a=s.head,r=a.querySelector("meta[charset]"),u=s.createElement("style"),d=[];let w,f=!0;Object.assign(l,n),l.o=new URL(n.resourcesUrl||"./",s.baseURI).href,t.map((t=>t[1].map((n=>{const o={t:n[0],M:n[1],O:n[2],R:n[3]};o.O=n[2],o.j={};const s=o.M,a=class extends HTMLElement{constructor(t){super(t),A(t=this,o),1&o.t&&t.attachShadow({mode:"open"})}connectedCallback(){w&&(clearTimeout(w),w=null),f?d.push(this):l.jmp((()=>(t=>{if(0==(1&l.t)){const n=S(t),e=n.W,o=()=>{};if(!(1&n.t)){n.t|=1;{let e=t;for(;e=e.parentNode||e.host;)if(e["s-p"]){v(n,n.g=e);break}}e.O&&Object.entries(e.O).map((([n,[e]])=>{if(31&e&&t.hasOwnProperty(n)){const e=t[n];delete t[n],t[n]=e}})),(async(t,n,e,o,s)=>{if(0==(32&n.t)){if(n.t|=32,(s=I(e)).then){const t=()=>{};s=await s,t()}s.isProxied||(e.j=s.watchers,W(s,e,2),s.isProxied=!0);const t=()=>{};n.t|=8;try{new s(n)}catch(t){V(t)}n.t&=-9,n.t|=128,t()}const l=n.g,c=()=>T(n,!0);l&&l["s-rc"]?l["s-rc"].push(c):c()})(0,n,e)}o()}})(this)))}disconnectedCallback(){l.jmp((()=>(()=>{0==(1&l.t)&&L(S(this).v,"disconnectedCallback")})()))}componentOnReady(){return S(this).D}};o.S=t[0],c.includes(s)||i.get(s)||(e.push(s),i.define(s,W(a,o,1)))})))),u.innerHTML=e+"{visibility:hidden}.hydrated{visibility:inherit}",u.setAttribute("data-styles",""),a.insertBefore(u,r?r.nextSibling:a.firstChild),f=!1,d.length?d.map((t=>t.connectedCallback())):l.jmp((()=>w=setTimeout(k,30)))},D=new WeakMap,S=t=>D.get(t),_=(t,n)=>D.set(n.v=t,n),A=(t,n)=>{const e={t:0,p:t,W:n,k:new Map};return e.L=new Promise((t=>e.P=t)),e.D=new Promise((t=>e.C=t)),t["s-p"]=[],t["s-rc"]=[],D.set(t,e)},H=(t,n)=>n in t,V=(t,n)=>(0,console.error)(t,n),q=new Map,I=t=>{const n=t.M.replace(/-/g,"_"),e=t.S,o=q.get(e);return o?o[n]:import(`./${e}.entry.js`).then((t=>(q.set(e,t),t[n])),V)},N=[],U=[],Y=(t,n)=>o=>{t.push(o),e||(e=!0,n&&4&l.t?G(F):l.raf(F))},z=t=>{for(let n=0;n<t.length;n++)try{t[n](performance.now())}catch(t){V(t)}t.length=0},F=()=>{z(N),z(U),(e=N.length>0)&&l.raf(F)},G=t=>c().then(t),B=Y(U,!0);function J(t,n,e=!1,o=null){const s=new CustomEvent(t,n);e&&(o?o.dispatchEvent(s):document.dispatchEvent(s))}function K(t){return t&&"string"==typeof t&&0!==t.length?t.split("").map((t=>t===t.toLowerCase()?t:"-"+t.toLowerCase())).join(""):""}function Q(t){if("string"!=typeof t)throw Error("Invalid model chain");return t.split("@").join("")}function X(t){if("boolean"==typeof t)return t;if("string"==typeof t)switch(t.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":case null:return!1;default:return!!t}return!!t}function Z(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))}function tt(t,n){const e=document.createElement("style");e.innerHTML=n,t.appendChild(e)}window.cardinal=window.cardinal||{},window.cardinal.oldCustomTheme=window.cardinal.oldCustomTheme||{};const{oldCustomTheme:nt}=window.cardinal;nt.dependencies=nt.dependencies||{},nt.imports=nt.imports||{},nt.appTheme=nt.appTheme||null;const{dependencies:et,imports:ot}=nt,st=/@import.*?["']([^"']+)["'].*?;/g;function lt(t){return new Promise(((n,e)=>{fetch(t).then((t=>{if(t.ok)return n(t.text());e({url:t.url,status:t.status,statusText:t.statusText})}))}))}function ct(t,n){return!!n&&(n.shadowRoot?t.parentNode===n.shadowRoot.host:ct(n,n.parentElement))}function it(){let t=t=>{let n={};t.addEventListener("styleExists",(e=>{e.stopImmediatePropagation(),e.preventDefault();let o=e.detail.componentTag;(0,e.detail.callback)(void 0,n.hasOwnProperty(o),t),n[o]||(n[o]=!0)})),t.addEventListener("componentWasRemoved",(t=>{let e=t.detail.componentTag;n[e]&&delete n[e]}))};return t(document.querySelector("body")),n=>{const{componentWillLoad:e,disconnectedCallback:o}=n;n.componentWillLoad=function(){const n=E(this);if(n&&n.isConnected){let o=o=>{let s="";window&&(window.basePath?s=window.basePath:window.WebCardinal&&window.WebCardinal.basePath&&(s=window.WebCardinal.basePath));let l=n.tagName.toLowerCase(),c=t=>new Promise((n=>{let c=s+"/themes/"+o+"/components/"+l+"/"+l+".css";et[c]||(et[c]=new Promise(((t,n)=>{lt(c).then((n=>{t(n)})).catch(n)}))),et[c].then((n=>{(function(t,n){return ot[t]||(ot[t]=new Promise(((t,e)=>{st.exec(n)?n.replace(st,((o,s)=>{et[s]||(et[s]=lt(s)),et[s].then((e=>{t(n.replace(o,e))})).catch(e)})):t(n)}))),ot[t]})(c,n).then((n=>{let e=document.createElement("style");e.innerHTML=n,t.append(e)}))})).catch((t=>{console.log(`Request on resource ${t.url} ended with status: ${t.status} (${t.statusText})`)})).finally((()=>{n(e&&e.call(this))}))}));return n.shadowRoot?(t(n),c(n.shadowRoot)):new Promise(n.isConnected?t=>{let o=ct(n,n.parentElement);n.isSlotted=o;let s=new CustomEvent("styleExists",{bubbles:!0,cancelable:!0,composed:!0,detail:{callback:(n,s,l)=>{n?console.log(n):s?t(e&&e.call(this)):(o||(l=l.shadowRoot),c(l).then((()=>{t()})))},componentTag:o?"SLOTTED:"+l:l}});n.dispatchEvent(s)}:t=>{t(e&&e.call(this))})};return nt.appTheme?o(nt.appTheme):new Promise((t=>{let e=new CustomEvent("getThemeConfig",{bubbles:!0,cancelable:!0,composed:!0,detail:(n,e)=>{if(n)return console.log(n);nt.appTheme=e,o(nt.appTheme).then((()=>{t()}))}});n.dispatchEvent(e)}))}return e&&e.call(this)},n.disconnectedCallback=function(){const t=E(this);let n=t.tagName.toLowerCase();t.isSlotted&&(n="SLOTTED:"+n);let e=new CustomEvent("componentWasRemoved",{bubbles:!0,cancelable:!0,composed:!0,detail:{componentTag:n}});t.dispatchEvent(e),o&&o.call(this)}}}window.cardinal=window.cardinal||{},window.cardinal.customTheme=window.cardinal.customTheme||{THEME:void 0,IMPORTS:{},EVENTS:{GET_THEME:"getThemeConfig",ADD_STYLE:"CustomTheme:add-style",REMOVE_STYLE:"CustomTheme:remove-style"}};const at=window.cardinal.customTheme;async function rt(t){let n="";window&&(window.basePath?n=window.basePath:window.WebCardinal&&window.WebCardinal.basePath&&(n=window.WebCardinal.basePath));const e=t.tagName.toLowerCase(),o=t.mode||t.getAttribute("mode")||"default",s=`${n}/themes/${at.THEME}/components/${e}/${e+("default"!==o?"."+o:"")+".css"}`;if(!at.IMPORTS[s]){const[t,n]=await async function(t){try{const n=await function(t,n=null){let e=window.$$;return e&&e.SSAPP_CONTEXT&&e.SSAPP_CONTEXT.BASE_URL&&e.SSAPP_CONTEXT.SEED&&0!==t.indexOf(e.SSAPP_CONTEXT.BASE_URL)&&0!==t.indexOf("data:image")&&(t=`${e.SSAPP_CONTEXT.BASE_URL}${0===t.indexOf("/")?t.substr(1):t}`),fetch(t,n)}(t);return[!0,await n.text()]}catch(t){return console.log(t),[!1]}}(s);if(!t)return;at.IMPORTS[s]=n}const l=at.IMPORTS[s];t.shadowRoot?(function(t){const n=t.host,e={true:{},false:{}};n.addEventListener(at.EVENTS.ADD_STYLE,(o=>{o.preventDefault(),o.stopImmediatePropagation();const{data:{tag:s,slotted:l},callback:c}=o.detail;e[l][s]||(c(void 0,l?{target:n}:{target:t}),e[l][s]=!0)})),n.addEventListener(at.EVENTS.REMOVE_STYLE,(t=>{t.preventDefault(),t.stopImmediatePropagation();const{data:{tag:n,slotted:o}}=t.detail;e[o][n]=!1}))}(t.shadowRoot),tt(t.shadowRoot,l)):(t.isSlotted=function(t){for(;t.parentElement;){if(t.parentElement.shadowRoot)return t.parentElement.shadowRoot.host===t.parentNode;t=t.parentElement}return!1}(t),t.dispatchEvent(new CustomEvent(at.EVENTS.ADD_STYLE,{bubbles:!0,cancelable:!0,composed:!0,detail:{data:{tag:e,slotted:t.isSlotted},callback:async(t,n)=>{if(t)return console.log(t);const{target:e}=n;tt(e,l)}}})))}function ut(){return t=>{const{componentWillLoad:n,disconnectedCallback:e}=t;t.componentWillLoad=async function(){const t=E(this);return(t||t.isConnected)&&(at.THEME?await rt(t):await async function(t,n){t.dispatchEvent(new CustomEvent(at.EVENTS.GET_THEME,{bubbles:!0,cancelable:!0,composed:!0,detail:async(e,o)=>{if(e)return console.log(e);at.THEME=o,await n(t)}}))}(t,rt)),n&&n.call(this)},t.disconnectedCallback=async function(){const t=E(this);return t.dispatchEvent(new CustomEvent(at.EVENTS.REMOVE_STYLE,{bubbles:!0,cancelable:!0,composed:!0,detail:{data:{tag:t.tagName.toLowerCase(),slotted:!!t.isSlotted}}})),e&&e.call(this)}}}window.cardinal=window.cardinal||{},window.cardinal.controllers=window.cardinal.controllers||{},window.cardinal.pendingControllerRequests=window.cardinal.pendingControllerRequests||{};export{it as C,ut as a,x as b,K as c,Z as d,J as e,E as g,r as h,Q as n,c as p,_ as r,X as s}