import{E as a,z as n,G as t,U as o}from"./p-cfeaffc4.js";import{p as r}from"./p-f8a2682a.js";import"./p-e506992e.js";async function e(a){try{return await r(a.getRoutingStateEvent)}catch(a){return console.error('Routing configuration can not be obtained from "webc-app-loader"!\n',a),null}}const{join:s}=o,i={loadAndSetTranslationsForPage:async o=>{var r;const{basePath:e,mapping:i}=o,p=a();window.WebCardinal.translations||(window.WebCardinal.translations={});const{translations:c}=window.WebCardinal;let{pathname:l}=window.location;if(l.endsWith("/")&&"/"!==l&&(l=l.slice(0,-1)),null===(r=c[p])||void 0===r?void 0:r[l])return!0;const f=i[l];if(!f)return console.warn("No HTML page mapping was found for the current pathname: "+l),!1;if(f.startsWith("http"))return console.warn("Translations for external sources are not supported yet!"),!1;let u=f.slice(0,f.lastIndexOf("."))+".translate",[d,w]=await n(s(e,t(),u).pathname);return d?"default"!==p&&([d,w]=await n(s(e,u).pathname),!d&&(c.default||(c.default={}),c.default[l]=w,!0)):(c[p]||(c[p]={}),c[p][l]=w,!0)}};export{i as C,e as r}