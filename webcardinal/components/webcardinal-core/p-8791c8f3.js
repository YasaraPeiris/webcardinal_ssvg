import{e as t,h as i,i as s,g as e,f as n}from"./p-8fa78097.js";import{d as o,e as a}from"./p-cfeaffc4.js";import{p as h}from"./p-3794fa4c.js";import"./p-e506992e.js";class r{constructor(t,{model:i,translationModel:s,tags:e,routing:n,chain:r}){this.listeners={getModel:()=>null,getTranslationModel:()=>null,getTags:()=>null,getRouting:()=>null,getParentChain:()=>null},this.host=t,i&&(this.listeners.getModel=t=>{t.stopImmediatePropagation();const s=h(t);if(s){if(t.detail.chain){let e=t.detail.chain;return e.startsWith(o)?(e=e.slice(1),void s(void 0,i.getChainValue(e))):(console.warn([`Invalid chain found for ${t} (chain: "${e}")!`,`A valid chain must start with "${o}".`].join("\n")),void s(void 0,i))}s(void 0,i)}}),s&&(this.listeners.getTranslationModel=t=>{t.stopImmediatePropagation();const i=h(t);if(i){if(t.detail.chain){let e=t.detail.chain;return e.startsWith(a)?(e=e.slice(1),void i(void 0,s.getChainValue(e))):(console.warn([`Invalid chain found for ${t} (chain: "${e}")!`,`A valid chain must start with "${a}".`].join("\n")),void i(void 0,s))}i(void 0,s)}}),e&&(this.tags=e,this.listeners.getTags=t=>{t.stopImmediatePropagation();const i=h(t);if(i)return t.detail.tag?this.tags[t.detail.tag]?i(void 0,this.tags[t.detail.tag]):i(`There is no page tag "${t.detail.tag}" registered in webcardinal.json`):i(void 0,this.tags)}),n&&(this.routing=n,this.listeners.getRouting=t=>{t.stopImmediatePropagation();const i=h(t);i&&i(void 0,this.routing)}),void 0!==r&&(this.chain=r,this.listeners.getParentChain=t=>{t.stopImmediatePropagation();const i=h(t);i&&i(void 0,this.chain)})}get getModel(){const i=t;return{add:()=>this.host.addEventListener(i,this.listeners.getModel),remove:()=>this.host.removeEventListener(i,this.listeners.getModel),eventName:i}}get getTranslationModel(){const t=i;return{add:()=>this.host.addEventListener(t,this.listeners.getTranslationModel),remove:()=>this.host.removeEventListener(t,this.listeners.getTranslationModel),eventName:t}}get getParentChain(){const t=s;return{add:()=>this.host.addEventListener(t,this.listeners.getParentChain),remove:()=>this.host.removeEventListener(t,this.listeners.getParentChain),eventName:t}}get getTags(){if(!this.tags)return;const t=e;return{add:()=>this.host.addEventListener(t,this.listeners.getTags),remove:()=>this.host.removeEventListener(t,this.listeners.getTags),eventName:t}}get getRouting(){if(!this.routing)return;const t=n;return{add:()=>this.host.addEventListener(t,this.listeners.getRouting),remove:()=>this.host.removeEventListener(t,this.listeners.getRouting),eventName:t}}}export{r as C}